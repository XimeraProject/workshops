\documentclass[numbers]{xourse}

%% \makeatletter

%% \ifnumbers
%% \setcounter{secnumdepth}{2}
%% \renewcommand{\thesection}{\arabic{titlenumber}.\arabic{section}}
%% \renewcommand{\thesubsection}{\arabic{titlenumber}.\arabic{section}.\arabic{subsection}}
%% \else
%% \setcounter{secnumdepth}{-2}
%% \fi






%% \def\activitystyle{}
%% %\newcounter{sectiontitlenumber} %%needs to be there
%% %%\setcounter{secnumdepth}{0}


%% \renewcommand\chapterstyle{%
%%   \def\activitystyle{activity-chapter}
%%   \def\maketitle{%
%%     \addtocounter{titlenumber}{1}%
%%                     {\flushleft\small\sffamily\bfseries\@pretitle\par\vspace{-1.5em}}%
%%                     {\flushleft\LARGE\sffamily\bfseries\thetitlenumber\hspace{1em}\@title \par }%
%%                     {\vskip .6em\noindent\textit\theabstract\setcounter{problem}{0}\setcounter{section}{0}}%
%%                     \par\vspace{2em}
%%                     \phantomsection\addcontentsline{toc}{section}{\textbf{\thetitlenumber\hspace{1em}\@title}}%
%% }}


%% \renewcommand\sectionstyle{%
%%   \def\activitystyle{activity-section}
%%   \def\maketitle{%
%%     \addtocounter{section}{1}
%%     \setcounter{sectiontitlenumber}{\value{section}} 
%%     {\flushleft\small\sffamily\bfseries\@pretitle\par\vspace{-1.5em}}%
%%     {\flushleft\Large\sffamily\bfseries\thetitlenumber.\thesectiontitlenumber\hspace{1em}\@title \par}%
%%     {\vskip .6em\noindent\textit\theabstract\setcounter{subsection}{0}}%
%%     \par\vspace{2em}
%%     \phantomsection\addcontentsline{toc}{section}{\thetitlenumber.\thesectiontitlenumber\hspace{1em}\@title}%
%%  \renewcommand\section{\@startsection{subsection}{2}{\z@}%
%%                                        {-3.25ex\@plus -1ex \@minus -.2ex}%
%%                                        {1.5ex \@plus .2ex}%
%%                                        {\normalfont\large\bfseries}}
%%  \renewcommand\section*{\@startsection{subsection}{2}{\z@}%
%%                                         {-3.25ex\@plus -1ex \@minus -.2ex}%
%%                                         {1.5ex \@plus .2ex}%
%%                                         {\normalfont\large\bfseries}}
%%  \renewcommand\subsection{\@startsection{subsubsection}{3}{\z@}%
%%                                           {-3.25ex\@plus -1ex \@minus -.2ex}%
%%                                           {1.5ex \@plus .2ex}%
%%                                           {\normalfont\normalsize\bfseries}}
%%  %% \renewcommand\subsection*{\@startsection{subsubsection}{3}{\z@}%
%%  %%                                           {-3.25ex\@plus -1ex \@minus -.2ex}%
%%  %%                                           {1.5ex \@plus .2ex}%
%%  %%                                           {\normalfont\normalsize\bfseries}}
%%  %% \renewcommand\section{\@startsection{subsection}{2}{\z@}%
%%  %%                                       {-3.25ex\@plus -1ex \@minus -.2ex}%
%%  %%                                       {1.5ex \@plus .2ex}%
%%  %%                                       {\normalfont\large\bfseries}}
%%  %% \renewcommand\subsection{\@startsection{subsubsection}{3}{\z@}%
%%  %%                                          {-3.25ex\@plus -1ex \@minus -.2ex}%
%%  %%                                          {1.5ex \@plus .2ex}%
%%  %%                                          {\normalfont\normalsize\bfseries}}
%% }}

%% \iftikzexport%% allows xake to handle \chapterstyle and \sectionstye
%% \renewcommand\chapterstyle{\def\activitystyle{chapter}}
%% \renewcommand\sectionstyle{\def\activitystyle{section}}
%% \else
%% \fi

%% \makeatother


\author{Hello}
\title{A document for TOC test}

\begin{document}

%% % Just to make it compile without special preamble/printstyle
%% %% \providecommand{\xmsection}{\section}
%% %% \providecommand{\xmsubsection}{\subsection}


%% % Just to make it compile without special preamble/printstyle
%% %% \renewcommand{\xmsection}{\section}
%% %% \renewcommand{\xmsubsection}{\subsection}


%% %\printcontinuouspagenumberstrue


\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{2}

\begin{abstract}
  Hello
\end{abstract}
\maketitle



\part{Part ONE (4 activities, are 2 and 3 sections)}

\chapterstyle
\activity{chapterWithSectionsWithSubsections.tex}
\sectionstyle
\activity{sectionWithSubsections.tex}
\sectionstyle
\activity{sectionWithSubsections.tex}
\chapterstyle
\activity{chapterWithSectionsWithSubsections.tex}
\sectionstyle
\activity{chapterWithSectionsWithSubsections.tex}

\part{Part TWO (4 activities, all chapters...)}
\chapterstyle
\activity{chapterWithSectionsWithSubsections.tex}
\activity{sectionWithSubsections.tex}
\activity{sectionWithSubsections.tex}
\activity{chapterWithSectionsWithSubsections.tex}

\end{document}
  
